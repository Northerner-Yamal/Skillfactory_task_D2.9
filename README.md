Skillfactory_task_D2.9
Практическое задание - "Проект News Portal".
Выполнил: студент группы FPW-60 Ильин Максим.
Дата: 14.04.2022

Команды для Django Shell

u1 = User.objects.create_user(username='Maxim')
u2 = User.objects.create_user(username='Igor')
Author.objects.create(authorUser=u1)
Author.objects.create(authorUser=u2)
Category.objects.create(name='Sport')
Category.objects.create(name='Politics')
Category.objects.create(name='Nature')
Category.objects.create(name='Cars')
author = Author.objects.get(id=1)
Post.objects.create(author=author, categoryType='NW', title='Champions League 2022', text='Real Madrid will take on Manchester City in the semi-finals')
Post.objects.create(author=author, title='Champions League 2022', text='''Man of the Match Modric: "It was incredible, we had to dig in, but we didn't give up"''')
author = Author.objects.get(id=2)
Post.objects.create(author=author, title='Champions League 2022', text='Ancelotti: "The magic of this stadium helps the players to never give in"')
Post.objects.get(id=1).postCategory.add(Category.objects.get(id=1))
Category.objects.create(name='Football')
Post.objects.get(id=1).postCategory.add(Category.objects.get(id=5))
Post.objects.get(id=2).postCategory.add(Category.objects.get(id=1))
Post.objects.get(id=3).postCategory.add(Category.objects.get(id=1))
Post.objects.get(id=2).postCategory.add(Category.objects.get(id=5))
Post.objects.get(id=3).postCategory.add(Category.objects.get(id=5))
Comment.objects.create(commentPost=Post.objects.get(id=1), commentUser=Author.objects.get(id=1).authorUser, text='Cool!')
Comment.objects.create(commentPost=Post.objects.get(id=2), commentUser=Author.objects.get(id=1).authorUser, text='incredible!')
Comment.objects.create(commentPost=Post.objects.get(id=3), commentUser=Author.objects.get(id=2).authorUser, text='Good!')
Comment.objects.create(commentPost=Post.objects.get(id=1), commentUser=Author.objects.get(id=2).authorUser, text='Amasing!')
Comment.objects.get(id=1).like()
Comment.objects.get(id=1).like()
Comment.objects.get(id=1).like()
Comment.objects.get(id=1).like()
Comment.objects.get(id=1).like()
Comment.objects.get(id=1).like()
Comment.objects.get(id=1).like()
Comment.objects.get(id=1).like()
Comment.objects.get(id=1).like()
Comment.objects.get(id=1).like()
Comment.objects.get(id=1).like()
Comment.objects.get(id=1).like()
Comment.objects.get(id=1).like()
Comment.objects.get(id=1).dislike()
Comment.objects.get(id=1).dislike()
Comment.objects.get(id=1).dislike()
Comment.objects.get(id=1).dislike()
Comment.objects.get(id=1).dislike()
Comment.objects.get(id=2).like()
Comment.objects.get(id=2).like()
Comment.objects.get(id=2).like()
Comment.objects.get(id=2).like()
Comment.objects.get(id=1).dislike()
Comment.objects.get(id=1).dislike()
Comment.objects.get(id=2).dislike()
Comment.objects.get(id=2).dislike()
Comment.objects.get(id=3).like()
Comment.objects.get(id=3).like()
Comment.objects.get(id=3).like()
Comment.objects.get(id=3).dislike()
Comment.objects.get(id=4).dislike()
Post.objects.get(id=1).like()
Post.objects.get(id=1).like()
Post.objects.get(id=1).like()
Post.objects.get(id=1).like()
Post.objects.get(id=1).like()
Post.objects.get(id=1).dislike()
Post.objects.get(id=2).like()
Post.objects.get(id=2).like()
Post.objects.get(id=2).like()
Post.objects.get(id=2).dislike()
Post.objects.get(id=3).like()
a = Author.objects.get(id=1)
a.update_rating()
a.ratingAuthor
b = Author.objects.get(id=2)
b.update_rating()
b.ratingAuthor
a = Author.objects.order_by('-ratingAuthor')[:1]
for i in a:
i.ratingAuthor
i.authorUser.username
Post.objects.order_by('-rating')[:1].values('dateCreation', 'author', 'rating', 'title')
Post.objects.get(id=1).preview()
Comment.objects.all().values('dateCreation', 'commentUser', 'rating', 'text')
